# =============================================================================
# MCP Developer Assistant - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=mcp-developer-assistant
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
MCP_SERVER_HOST=127.0.0.1
MCP_SERVER_PORT=8000
PROXY_HOST=127.0.0.1
PROXY_PORT=8001

# Allowed project paths (comma-separated)
ALLOWED_PATHS=/path/to/your/project

# File patterns to exclude from indexing
EXCLUDED_PATTERNS=.git,node_modules,__pycache__,*.pyc,.env,venv

# -----------------------------------------------------------------------------
# Authentication (OAuth 2.1)
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# OAuth Provider (if using external OAuth)
# OAUTH_PROVIDER_URL=https://auth.example.com
# OAUTH_CLIENT_ID=your-client-id
# OAUTH_CLIENT_SECRET=your-client-secret

# -----------------------------------------------------------------------------
# LLM Configuration
# -----------------------------------------------------------------------------
# Choose provider: groq, anthropic, openai
LLM_PROVIDER=groq

# Groq (Fast inference, free tier available)
GROQ_API_KEY=your-groq-api-key
GROQ_MODEL=llama-3.3-70b-versatile

# Anthropic (Claude)
# ANTHROPIC_API_KEY=your-anthropic-api-key

# OpenAI
# OPENAI_API_KEY=your-openai-api-key
# OPENAI_MODEL=gpt-4-turbo-preview

# Claude model configuration (if using Anthropic)
CLAUDE_MODEL=claude-3-sonnet-20240229
CLAUDE_MAX_TOKENS=4096

# Intent checking settings
INTENT_CHECK_ENABLED=true
INTENT_CHECK_CACHE_TTL_SECONDS=3600

# -----------------------------------------------------------------------------
# ML & Embeddings
# -----------------------------------------------------------------------------
# Embedding model (local, no API calls)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32

# Code-specific embedding model (optional, better for code)
# EMBEDDING_MODEL=microsoft/codebert-base

# FAISS configuration
FAISS_INDEX_PATH=./data/embeddings/faiss.index
FAISS_NPROBE=10

# Anomaly detection
ANOMALY_MODEL_PATH=./models/anomaly_detector.pkl
ANOMALY_CONTAMINATION=0.05
ANOMALY_THRESHOLD=0.7

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# SQLite (default for development)
DATABASE_URL=sqlite+aiosqlite:///./data/mcp_assistant.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/mcp_assistant

# Redis (for caching, optional)
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# OpenTelemetry tracing
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=mcp-developer-assistant

# Structured logging
LOG_FORMAT=json
LOG_FILE=./logs/mcp_assistant.log

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Allowed origins for CORS
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Output sanitization
SANITIZE_OUTPUT=true
MAX_OUTPUT_SIZE_KB=100

# Sensitive file patterns (blocked from read)
SENSITIVE_PATTERNS=.env,.env.*,*.pem,*.key,secrets/*,credentials/*
